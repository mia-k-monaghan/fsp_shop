product{% extends "base.html" %}
{% load static %}

{% block meta_block %}
  <title>{{seo.title}}</title>
  <meta name="description" property=og:description content="{{seo.description}}">
  <meta name="keywords" content="{{seo.keywords}}">
  <meta property="og:title" content="{{seo.title}}">
  <meta property="og:url" content="{% url 'core:index' %}">
  {% if main %}
    <meta property="og:image" content="{{main.image.url}}">
    <meta property="og:image:alt" content="{{main.alt}}">
  {% endif %}

{% endblock meta_block %}

{% block content %}
<div class="jumbotron jumbotron-fluid d-flex">
  <video autoplay muted loop>
    <source src="{% static "img/index/BlackTriangleBackground.mp4" %}" type="video/mp4" />
  </video>
  <div class="container text-light text-center my-auto">
    <p class="display-3">Full Stack Pak</p>
    <p class="lead">Finally, a 100% customizable, no-code website specifically designed for your buisness</p>
    <a class="btn btn-outline-light btn-lg" href="#" role="button">Find My Design</a>
  </div>
</div>
<div class="container my-5">
  <div class="row mx-auto">
    <div class="col-md-4 text-center mb-5">
      <p class="h3">Your Own Website</p>
      <p class="lead my-3">Yes, you heard that rightâ€”no recurring fees ever!</p>
      <img style="width:15em;" class="img-fluid" src="{% static "img/index/Save Money.png" %}" alt="piggy bank">
    </div>
    <div class="col-md-4 text-center mb-5">
      <p class="h3">Pre-Designed Perfection</p>
      <p class="lead">Your content looks great no matter what with our simple, business-specific designs</p>
      <img style="width:15em;" class="img-fluid" src="{% static "img/index/PreDesigned.png" %}" alt="piggy bank">
    </div>
    <div class="col-md-4 text-center mb-5">
      <p class="h3">Built-in SEO</p>
      <p class="lead">Get noticed faster with built-in & customizable Search Engine Optimization</p>
      <img style="width:15em;" class="img-fluid" src="{% static "img/index/Search Bar2.png" %}" alt="piggy bank">
    </div>
  </div>
  <div class="row">
    <div class="col-md-5 mx-auto">
      <a class="btn btn-block btn-outline-dark shadow-lg btn-lg" href="#" role="button">See All Website Paks</a>
    </div>
  </div>
  <p class="display-4 my-5 pt-5 text-center">Featured Website Paks</p>
  <hr>
  {% for product in featured_products %}
  <div class="row mt-3 pt-3">
    <!--Image Column Sizing-->
    <div class="col-lg-5 col-xl-4 mb-4">
    <!--Product Image/Video-->
      <a href="{% url 'core:product-detail' slug=product.slug %}">
      {% if product.images.all.0 %}
        {% if product.images.all.0.type == 'IMG' %}
          <!--Image-->
          <img src="{{product.images.all.0.image.url}}" class="img-fluid card-img-top shadow-sm" alt="{{product.title}}">
        {% else %}
        <!--Video-->
        <div class="embed-responsive embed-responsive-16by9">
          <iframe class="card-img-top shadow-sm embed-responsive-item"src="{{product.images.all.0.video_embed_url}}"></iframe>
        </div>
        {% endif %}
      {% else %}
      <!--Default Blank Product Image-->
        <img src="{% static "img/Default_Blank_Product.png" %}" class="img-fluid card-img-top shadow-sm" alt="{{floorplan.title}}">
      {% endif %}
      </a>
    <!--End of Image Column Sizing-->
    </div>
    <!--Product Description Column Sizing-->
    <div class="col-lg-7 col-xl-7 ml-xl-4 mb-4 text-left">
      <!--Product Title-->
      <h3 class="mb-3 font-weight-bold">{{product.title}}</h3>
      <!--Product Description-->
      {% if product.description %}
        <p>{{product.description|linebreaks|safe}}</p>
      {% endif %}
      <!--Product Details Button-->
      <a href="{% url 'core:product-detail' slug=product.slug %}"
        class="btn btn-outline-dark shadow-sm btn-lg">Details
      </a>
    <!--End of Product Description Column Sizing-->
    </div>
  </div>
  <hr>
  <!--End of Featured Products List-->
  {% endfor %}
  <div class="row my-5">
    <div class="col-md-5 mx-auto">
      <a class="btn btn-block btn-info shadow-lg btn-lg" href="#" role="button">See All Website Paks</a>
    </div>
  </div>

</div>

{% endblock content %}

{% block extra_footer %}
{% if products|length > featured_products|length %}
    <div class="pt-4">
      {% if footer_text %}
      <a class="btn btn-outline-{{footer_text}} btn-lg shadow" href="{% url 'core:product-list' %}"
          role="button">View All Paks</a>
      {% else %}
      <a class="btn btn-outline-light btn-lg shadow" href="{% url 'core:product-list' %}"
          role="button">View All Paks</a>
      {% endif %}
    </div>

{% endif %}
{% endblock extra_footer %}

{% block extra_scripts %}
  <script type="text/javascript">
  // Select all links with hashes
$('a[href*="#"]')
// Remove links that don't actually link to anything
.not('[href="#"]')
.not('[href="#0"]')
.click(function(event) {
 // On-page links
 if (
   location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '')
   &&
   location.hostname == this.hostname
 ) {
   // Figure out element to scroll to
   var target = $(this.hash);
   target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');
   // Does a scroll target exist?
   if (target.length) {
     // Only prevent default if animation is actually gonna happen
     event.preventDefault();
     $('html, body').animate({
       scrollTop: target.offset().top
     }, 500, function() {
       // Callback after animation
       // Must change focus!
       var $target = $(target);
       $target.focus();
       if ($target.is(":focus")) { // Checking if the target was focused
         return false;
       } else {
         $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable
         $target.focus(); // Set focus again
       };
     });
   }
 }
});
  </script>
{% endblock extra_scripts %}
